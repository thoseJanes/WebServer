# 用户信息有概率显示
一开始把用户登陆信息直接存储在连接里，测试时发现登陆后用户的用户名有时候能显示，有时候没法显示，登陆时多刷新几遍才有概率刷出来。

![](3_用户信息有概率显示_image.png)

![](2_用户信息有概率显示_image.png)

打印了一些信息，发现同一个网页有很多个连接在请求资源，请求登陆的连接不一定是请求网页的连接，刷新时如果请求网页的连接正好是请求登陆的连接，就能够显示，所以用户登陆信息不能存在连接里。

查找资料后把用户登陆信息以sessionid区别存在了数据库里，在登陆时设置响应的Set-Cookie头部为sessionid键值对，响应网页请求时读取Cookie信息在数据库中查找用户信息，于是信息显示正常。